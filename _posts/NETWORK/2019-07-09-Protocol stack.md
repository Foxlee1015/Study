---
layout: post
title: Protocol stack
categories: NETWORK

---


* DNS 를 통해 IP 주소를 얻은 후, 웹 서버에 메시지를 송신하도록 OS 내부 프로토콜 스택에 의뢰(OS 내부의 프로토콜 스택에 메시지 송신 동작을 의뢰하때는 Socket 라이브러리 프로그램 부품을 결정된 순번대호 호출).
 1. 소켓 라이브러리에 있는 프로그램 이용하여 데이터 송수신
 2. 그림과 같이 파이프를 연결하는 동작을 하기 위해 소켓(파이프의 양끝, 데이터의 출입구)을 만들고 연결
 
 
  * 소켓 만들기-소켓 작성단계
  * 서버측의 소켓에 파이프 연결 - 접속단계
  * 데이터 송수신
  * 파이프 분리, 소켓 말고 - 연결 끊기 

# 프로토콜 스택 =  위 4 단계를 실행하는 것



# < 웹 서버 접속>
* <제어정보, 양방향> 웹 서버 접속 - 클라이언트 앱 : connect(디스크립터), 서버 ip주소, 포트번호 === Socket 라이브러리의 connect 이라는 프로그램 부품 호출 
* <데이터정보, 데이터 이동 방향 : 클->서버> - 클라이언트 앱 : write(디스크립터), 송신 데이터, 데이터 길이
* <데이터정보, 데이터 이동 방향 : 서버->클> - 클라이언트 앱 : read(디스크립터), 수신 버퍼 (데이터 일시 저장)
* <제어정보, 양방향> 연결 끊기 === 웹 서버측에서 close 호출하여 연결 끊고, 클라이언트에서도 Socket 라이브러리의 close 로 소켓 말소.  


* <디스크립터: 소켓을 식별하기 위한 번호표 같은 역할>
